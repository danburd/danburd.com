<!DOCTYPE html>
<html>
<head>
    <title>Hls.js Video</title>
    <link rel="stylesheet" type="text/css" href="https://danburd.github.io/default.css">
    <link rel="shortcut icon" href="https://danburd.github.io/videofavicon.ico" type="image/x-icon">
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        video {
            box-shadow: rgba(0, 0, 0, 0.6) 0px 0px 5px 0px;
            left: 50%;
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body>

<script>
function getQueryVariable(variable)
{
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
}
</script>

<video controls autoplay id="video"></video>
<script>
  if(Hls.isSupported()) {
    var video = document.getElementById('video');
    var hls = new Hls();
    hls.loadSource(getQueryVariable("stream"));
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED,function() {
      video.play();
  });
 }
</script>

</body>
</html>
